@test("It should generate on return integer constant")
@given("file")
int main() {
    return 7;
}
@whenRun("./bin/ir-generator-tester")
@expectOutput("stdout")
main:
    OP_CONST 7, t1
    OP_RETURN t1

@endtest

@test("It should generate on return trivial expression (without variables)")
@given("file")
int main() {
    return 2 * 3 + 1;
}
@whenRun("./bin/ir-generator-tester")
@expectOutput("stdout")
main:
    OP_CONST 2, t1
    OP_CONST 3, t2
    OP_MUL t1, t2, t3
    OP_CONST 1, t4
    OP_ADD t3, t4, t5
    OP_RETURN t5

@endtest
