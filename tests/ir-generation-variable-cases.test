@test("It should generate IR code when returning variable with a constant")
@given("file")
int main() {
    int x;
    x = 10;
    return x;
}
@whenRun("./bin/ir-generator-tester")
@expectOutput("stdout")
0000 OP_FUNC "main"
0001 OP_CONST 10, t1
0002 OP_STORE x, t1
0003 OP_LOAD x, t2
0004 OP_RETURN t2
0005 OP_FUNC_END

@endtest

@test("It should generate IR code when returning a variable with an expression")
@given("file")
int main() {
    int x;
    x = 7 * 8;
    return x / 2;
}
@whenRun("./bin/ir-generator-tester")
@expectOutput("stdout")
0000 OP_FUNC "main"
0001 OP_CONST 7, t1
0002 OP_CONST 8, t2
0003 OP_MUL t1, t2, t3
0004 OP_STORE x, t3
0005 OP_LOAD x, t4
0006 OP_CONST 2, t5
0007 OP_DIV t4, t5, t6
0008 OP_RETURN t6
0009 OP_FUNC_END

@endtest
