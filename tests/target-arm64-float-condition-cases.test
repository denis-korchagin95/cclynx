@test("It should generate target arm64 code if statement with float constant condition")
@given("file")
int main() {
    float x;
    x = 10;
    if (x > 3.0) {
        x = 777.0;
    }
    return (int)x;
}
@whenRun("./bin/target-code-generator-tester")
@expectOutput("stdout")
.text
.global _main
.align 2

_main:
    stp x29, x30, [sp, -16]!
    mov x29, sp
    sub sp, sp, #16
    mov w9, #10
    str w9, [sp, #0]
    ldr s8, [sp, #0]
    fmov s9, #3.000000
    cmp s8, s9
    b.le .L1
    fmov s8, #777.000000
    str s8, [sp, #0]
.L1:
    ldr s8, [sp, #0]
    fcvtzs w9, s8
    mov w0, w9
    add sp, sp, #16
    ldp x29, x30, [sp], #16
    ret

@endtest
