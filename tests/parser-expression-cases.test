@test("It should parse an integer number")
@given("file")
int main() {
    777;
}
@whenRun("./bin/parser-tester")
@expectOutput("stdout")
FunctionDefinition: {name: 'main', type: 'int'}
|
+-> CompoundStatement
    |
    +-> ExpressionStatement
        |
        +-> IntegerConstant: '777'

@endtest

@test("It should parse a multiplicative expression (*) (primitive case)")
@given("file")
int main() {
    7 * 8;
}
@whenRun("./bin/parser-tester")
@expectOutput("stdout")
FunctionDefinition: {name: 'main', type: 'int'}
|
+-> CompoundStatement
    |
    +-> ExpressionStatement
        |
        +-> MultiplicativeExpression: '*'
            |
            +-> IntegerConstant: '7'
            |
            +-> IntegerConstant: '8'

@endtest

@test("It should parse a multiplicative expression (*) (nested level 2 primitive case)")
@given("file")
int main() {
    7 * 6 * 8;
}
@whenRun("./bin/parser-tester")
@expectOutput("stdout")
FunctionDefinition: {name: 'main', type: 'int'}
|
+-> CompoundStatement
    |
    +-> ExpressionStatement
        |
        +-> MultiplicativeExpression: '*'
            |
            +-> MultiplicativeExpression: '*'
            |   |
            |   +-> IntegerConstant: '7'
            |   |
            |   +-> IntegerConstant: '6'
            |
            +-> IntegerConstant: '8'

@endtest

@test("It should parse a multiplicative expression (*) (nested level 4 primitive case)")
@given("file")
int main() {
    7 * 6 * 8 * 10 * 15;
}
@whenRun("./bin/parser-tester")
@expectOutput("stdout")
FunctionDefinition: {name: 'main', type: 'int'}
|
+-> CompoundStatement
    |
    +-> ExpressionStatement
        |
        +-> MultiplicativeExpression: '*'
            |
            +-> MultiplicativeExpression: '*'
            |   |
            |   +-> MultiplicativeExpression: '*'
            |   |   |
            |   |   +-> MultiplicativeExpression: '*'
            |   |   |   |
            |   |   |   +-> IntegerConstant: '7'
            |   |   |   |
            |   |   |   +-> IntegerConstant: '6'
            |   |   |
            |   |   +-> IntegerConstant: '8'
            |   |
            |   +-> IntegerConstant: '10'
            |
            +-> IntegerConstant: '15'

@endtest

@test("It should parse a multiplicative expression (combination *, /) (with nested level primitive case)")
@given("file")
int main() {
    15 / 3 * 101;
}
@whenRun("./bin/parser-tester")
@expectOutput("stdout")
FunctionDefinition: {name: 'main', type: 'int'}
|
+-> CompoundStatement
    |
    +-> ExpressionStatement
        |
        +-> MultiplicativeExpression: '*'
            |
            +-> MultiplicativeExpression: '/'
            |   |
            |   +-> IntegerConstant: '15'
            |   |
            |   +-> IntegerConstant: '3'
            |
            +-> IntegerConstant: '101'

@endtest

@test("It should parse an additive expression (+) (primitive case)")
@given("file")
int main() {
    7 + 8;
}
@whenRun("./bin/parser-tester")
@expectOutput("stdout")
FunctionDefinition: {name: 'main', type: 'int'}
|
+-> CompoundStatement
    |
    +-> ExpressionStatement
        |
        +-> AdditiveExpression: '+'
            |
            +-> IntegerConstant: '7'
            |
            +-> IntegerConstant: '8'

@endtest

@test("It should parse an additive expression (+) (nested level 2 primitive case)")
@given("file")
int main() {
    7 + 6 + 8;
}
@whenRun("./bin/parser-tester")
@expectOutput("stdout")
FunctionDefinition: {name: 'main', type: 'int'}
|
+-> CompoundStatement
    |
    +-> ExpressionStatement
        |
        +-> AdditiveExpression: '+'
            |
            +-> AdditiveExpression: '+'
            |   |
            |   +-> IntegerConstant: '7'
            |   |
            |   +-> IntegerConstant: '6'
            |
            +-> IntegerConstant: '8'

@endtest

@test("It should parse an additive expression (+) (nested level 4 primitive case)")
@given("file")
int main() {
    7 + 6 + 8 + 10 + 15;
}
@whenRun("./bin/parser-tester")
@expectOutput("stdout")
FunctionDefinition: {name: 'main', type: 'int'}
|
+-> CompoundStatement
    |
    +-> ExpressionStatement
        |
        +-> AdditiveExpression: '+'
            |
            +-> AdditiveExpression: '+'
            |   |
            |   +-> AdditiveExpression: '+'
            |   |   |
            |   |   +-> AdditiveExpression: '+'
            |   |   |   |
            |   |   |   +-> IntegerConstant: '7'
            |   |   |   |
            |   |   |   +-> IntegerConstant: '6'
            |   |   |
            |   |   +-> IntegerConstant: '8'
            |   |
            |   +-> IntegerConstant: '10'
            |
            +-> IntegerConstant: '15'

@endtest

@test("It should parse an additive expression (combination +, -) (with nested level primitive case)")
@given("file")
int main() {
    15 + 3 - 101;
}
@whenRun("./bin/parser-tester")
@expectOutput("stdout")
FunctionDefinition: {name: 'main', type: 'int'}
|
+-> CompoundStatement
    |
    +-> ExpressionStatement
        |
        +-> AdditiveExpression: '-'
            |
            +-> AdditiveExpression: '+'
            |   |
            |   +-> IntegerConstant: '15'
            |   |
            |   +-> IntegerConstant: '3'
            |
            +-> IntegerConstant: '101'

@endtest

@test("It should parse an expression with combination (additive, multiplicative)")
@given("file")
int main() {
    1 + 7 * 6 - 4;
}
@whenRun("./bin/parser-tester")
@expectOutput("stdout")
FunctionDefinition: {name: 'main', type: 'int'}
|
+-> CompoundStatement
    |
    +-> ExpressionStatement
        |
        +-> AdditiveExpression: '-'
            |
            +-> AdditiveExpression: '+'
            |   |
            |   +-> IntegerConstant: '1'
            |   |
            |   +-> MultiplicativeExpression: '*'
            |       |
            |       +-> IntegerConstant: '7'
            |       |
            |       +-> IntegerConstant: '6'
            |
            +-> IntegerConstant: '4'

@endtest

@test("It should parse a relational expression (<) (primitive case)")
@given("file")
int main() {
    7 < 8;
}
@whenRun("./bin/parser-tester")
@expectOutput("stdout")
FunctionDefinition: {name: 'main', type: 'int'}
|
+-> CompoundStatement
    |
    +-> ExpressionStatement
        |
        +-> RelationalExpression: '<'
            |
            +-> IntegerConstant: '7'
            |
            +-> IntegerConstant: '8'

@endtest

@test("It should parse a relational expression (<) (nested level 2 primitive case)")
@given("file")
int main() {
    7 < 6 < 8;
}
@whenRun("./bin/parser-tester")
@expectOutput("stdout")
FunctionDefinition: {name: 'main', type: 'int'}
|
+-> CompoundStatement
    |
    +-> ExpressionStatement
        |
        +-> RelationalExpression: '<'
            |
            +-> RelationalExpression: '<'
            |   |
            |   +-> IntegerConstant: '7'
            |   |
            |   +-> IntegerConstant: '6'
            |
            +-> IntegerConstant: '8'

@endtest

@test("It should parse a relational expression (<) (nested level 4 primitive case)")
@given("file")
int main() {
    7 < 6 < 8 < 10 < 15;
}
@whenRun("./bin/parser-tester")
@expectOutput("stdout")
FunctionDefinition: {name: 'main', type: 'int'}
|
+-> CompoundStatement
    |
    +-> ExpressionStatement
        |
        +-> RelationalExpression: '<'
            |
            +-> RelationalExpression: '<'
            |   |
            |   +-> RelationalExpression: '<'
            |   |   |
            |   |   +-> RelationalExpression: '<'
            |   |   |   |
            |   |   |   +-> IntegerConstant: '7'
            |   |   |   |
            |   |   |   +-> IntegerConstant: '6'
            |   |   |
            |   |   +-> IntegerConstant: '8'
            |   |
            |   +-> IntegerConstant: '10'
            |
            +-> IntegerConstant: '15'

@endtest

@test("It should parse a relational expression (combination <, >) (with nested level primitive case)")
@given("file")
int main() {
    15 < 3 > 101;
}
@whenRun("./bin/parser-tester")
@expectOutput("stdout")
FunctionDefinition: {name: 'main', type: 'int'}
|
+-> CompoundStatement
    |
    +-> ExpressionStatement
        |
        +-> RelationalExpression: '>'
            |
            +-> RelationalExpression: '<'
            |   |
            |   +-> IntegerConstant: '15'
            |   |
            |   +-> IntegerConstant: '3'
            |
            +-> IntegerConstant: '101'

@endtest

@test("It should parse a equality expression (==) (primitive case)")
@given("file")
int main() {
    7 == 8;
}
@whenRun("./bin/parser-tester")
@expectOutput("stdout")
FunctionDefinition: {name: 'main', type: 'int'}
|
+-> CompoundStatement
    |
    +-> ExpressionStatement
        |
        +-> EqualityExpression: '=='
            |
            +-> IntegerConstant: '7'
            |
            +-> IntegerConstant: '8'

@endtest

@test("It should parse a equality expression (==) (nested level 2 primitive case)")
@given("file")
int main() {
    7 == 6 == 8;
}
@whenRun("./bin/parser-tester")
@expectOutput("stdout")
FunctionDefinition: {name: 'main', type: 'int'}
|
+-> CompoundStatement
    |
    +-> ExpressionStatement
        |
        +-> EqualityExpression: '=='
            |
            +-> EqualityExpression: '=='
            |   |
            |   +-> IntegerConstant: '7'
            |   |
            |   +-> IntegerConstant: '6'
            |
            +-> IntegerConstant: '8'

@endtest

@test("It should parse a equality expression (==) (nested level 4 primitive case)")
@given("file")
int main() {
    7 == 6 == 8 == 10 == 15;
}
@whenRun("./bin/parser-tester")
@expectOutput("stdout")
FunctionDefinition: {name: 'main', type: 'int'}
|
+-> CompoundStatement
    |
    +-> ExpressionStatement
        |
        +-> EqualityExpression: '=='
            |
            +-> EqualityExpression: '=='
            |   |
            |   +-> EqualityExpression: '=='
            |   |   |
            |   |   +-> EqualityExpression: '=='
            |   |   |   |
            |   |   |   +-> IntegerConstant: '7'
            |   |   |   |
            |   |   |   +-> IntegerConstant: '6'
            |   |   |
            |   |   +-> IntegerConstant: '8'
            |   |
            |   +-> IntegerConstant: '10'
            |
            +-> IntegerConstant: '15'

@endtest

@test("It should parse a equality expression (combination ==, !=) (with nested level primitive case)")
@given("file")
int main() {
    15 == 3 != 101;
}
@whenRun("./bin/parser-tester")
@expectOutput("stdout")
FunctionDefinition: {name: 'main', type: 'int'}
|
+-> CompoundStatement
    |
    +-> ExpressionStatement
        |
        +-> EqualityExpression: '!='
            |
            +-> EqualityExpression: '=='
            |   |
            |   +-> IntegerConstant: '15'
            |   |
            |   +-> IntegerConstant: '3'
            |
            +-> IntegerConstant: '101'

@endtest

@test("It should parse an assignment expression (simple version)")
@given("file")
int main() {
    int x;
    x = 3;
}
@whenRun("./bin/parser-tester")
@expectOutput("stdout")
FunctionDefinition: {name: 'main', type: 'int'}
|
+-> CompoundStatement
    |
    +-> VariableDeclaration {name: 'x', type: 'int'}
    |
    +-> ExpressionStatement
        |
        +-> AssignmentExpression: '='
            |
            +-> Variable {name: 'x', type: 'int'}
            |
            +-> IntegerConstant: '3'

@endtest
